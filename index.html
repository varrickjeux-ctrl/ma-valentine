<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REPONDS-MOI !</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Creepster&family=Poppins:wght@900&display=swap" rel="stylesheet">
    <style>
        :root { --pink: #ff4d6d; --blood: #b30000; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; font-family: 'Poppins', sans-serif; background: #fff0f3; display: flex; justify-content: center; align-items: center; }

        /* PÃ©tales & Sang */
        .drop { position: fixed; top: -50px; pointer-events: none; z-index: 1; }
        .petal { background: var(--pink); border-radius: 150% 0 150% 0; }
        .blood { background: var(--blood); width: 4px !important; border-radius: 0 0 50% 50%; }

        #container { position: relative; z-index: 10; background: white; padding: 40px; border-radius: 30px; box-shadow: 0 20px 50px rgba(0,0,0,0.1); text-align: center; transition: all 0.2s; }
        
        h1 { font-family: 'Dancing Script', cursive; font-size: 3rem; color: var(--pink); }
        
        #noBtn { 
            position: fixed; z-index: 1000; padding: 15px 30px; border-radius: 50px; 
            background: #6c757d; color: white; border: none; cursor: pointer;
            transition: all 0.1s cubic-bezier(0.19, 1, 0.22, 1);
        }

        #yesBtn { padding: 20px 40px; font-size: 1.5rem; border-radius: 50px; background: var(--pink); color: white; border: none; cursor: pointer; font-weight: bold; }

        /* ColÃ¨re */
        @keyframes shake { 0% { transform: translate(1px, 1px); } 20% { transform: translate(-3px, 0px); } 40% { transform: translate(3px, 2px); } 100% { transform: translate(1px, -1px); } }
        .angry-mode { animation: shake 0.1s infinite; background: red !important; }
        #rage-msg { display: none; position: fixed; top: 20%; color: white; font-size: 5rem; z-index: 2000; text-align: center; width: 100%; font-family: 'Poppins'; }

        /* Pacte ScellÃ© */
        #pacte { display: none; flex-direction: column; align-items: center; z-index: 2000; color: white; text-align: center; }
        .devil-face { font-size: 100px; animation: laugh 0.5s infinite alternate; }
        @keyframes laugh { from { transform: scale(1); } to { transform: scale(1.3) rotate(10deg); } }
        .hell-title { font-family: 'Creepster', cursive; font-size: 6rem; color: var(--blood); text-shadow: 0 0 20px black; }
    </style>
</head>
<body>

    <div id="rage-msg">TU VAS DIRE OUI OU QUOI ??</div>

    <div id="container">
        <h1 id="mainTitle">Veux-tu Ãªtre ma Valentine ?</h1>
        <div style="margin-top: 50px; display: flex; justify-content: center; gap: 50px;">
            <button id="yesBtn">OUI !</button>
            <button id="noBtn">Non</button>
        </div>
    </div>

    <div id="pacte">
        <div class="devil-face">ðŸ˜ˆ</div>
        <h1 class="hell-title">PACTE SCELLÃ‰</h1>
        <p style="font-size: 2rem;">MOUHAHAHAHAHA !</p>
        <p>Tu as signÃ© avec ton sang, Ã  jamais mienne.</p>
    </div>

    <script>
        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        const container = document.getElementById('container');
        const rageMsg = document.getElementById('rage-msg');
        const pacte = document.getElementById('pacte');
        let attempts = 0;
        let isHell = false;

        // --- Pluie de base ---
        function spawnDrop(type) {
            const d = document.createElement('div');
            d.className = `drop ${type}`;
            const size = type === 'petal' ? Math.random() * 15 + 10 : Math.random() * 20 + 10;
            d.style.width = size + 'px';
            d.style.height = (type === 'petal' ? size : size * 2) + 'px';
            d.style.left = Math.random() * 100 + 'vw';
            document.body.appendChild(d);
            
            const anim = d.animate([
                { transform: 'translateY(0) rotate(0deg)', opacity: 0.8 },
                { transform: `translateY(110vh) rotate(${type === 'petal' ? 360 : 0}deg)`, opacity: 0 }
            ], { duration: Math.random() * 2000 + 2000 });

            anim.onfinish = () => d.remove();
        }
        let rainInterval = setInterval(() => spawnDrop('petal'), 200);

        // --- Le bouton Non fuyant ---
        const moveNo = (e) => {
            if (attempts >= 20) return;
            
            attempts++;
            const x = Math.random() * (window.innerWidth - 150);
            const y = Math.random() * (window.innerHeight - 100);
            
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
            noBtn.style.transform = `scale(${1 - attempts/25}) rotate(${attempts * 10}deg)`;
            
            yesBtn.style.transform = `scale(${1 + attempts/5})`;

            if (attempts === 20) {
                document.body.classList.add('angry-mode');
                rageMsg.style.display = 'block';
                noBtn.style.display = 'none';
                document.getElementById('mainTitle').innerText = "CLIQUE SUR OUI MAINTENANT.";
            }
        };

        noBtn.addEventListener('mouseover', moveNo);
        noBtn.addEventListener('touchstart', (e) => { e.preventDefault(); moveNo(); });

        // --- Final ---
        yesBtn.addEventListener('click', () => {
            isHell = true;
            clearInterval(rainInterval);
            document.body.classList.remove('angry-mode');
            document.body.style.background = 'black';
            container.style.display = 'none';
            rageMsg.style.display = 'none';
            pacte.style.display = 'flex';

            confetti({ particleCount: 300, spread: 100, colors: ['#ff0000', '#000000'] });

            // Pluie de sang intense
            setInterval(() => spawnDrop('blood'), 50);
        });

        // Position initiale
        window.onload = () => {
            noBtn.style.left = (window.innerWidth / 2 + 100) + 'px';
            noBtn.style.top = (window.innerHeight / 2) + 'px';
        };
    </script>
</body>
</html>
